.header-banner.bg-theme-grad-s2.keplr-wallet#secret-network-dex-aggregator
  .nk-banner.pb-5
    .banner.banner-page
      .mt-3.w-100
        .container
          .row.justify-content-center
            .col-xl-7.col-lg-9
              .card.my-3
                .card-body
                  %h3= features[:secret_network][:features][:dex_aggregator][:name]
                  %p.mb-0
                    %b Blockchain:
                    = cl_image_tag(features[:secret_network][:cloudinary_public_id], width: 18, height: 18, crop: :fill, dpr: 2, aspect_ratio: 1, fetch_format: :auto, quality: :auto)
                    = features[:secret_network][:name].to_s
                  %button.btn.btn-sm.btn-theme-dark.mt-1{ 'aria-controls' => 'aboutCollapse', 'aria-expanded' => 'true', 'data-toggle' => 'collapse', :href => '#aboutCollapse' }
                    About
                  .collapse.mt-2#aboutCollapse
                    .card.card-default.bg-theme-light
                      .card-block
                        %h6 Requirements
                        %p
                          1.
                          = link_to 'Keplr web wallet', 'https://www.keplr.app/', target: '_blank', rel: 'noopener'
                          %br
                          2. SCRT for gas, if setting a viewing key

                        %h6 What is it?
                        %p This is a burn address smart contract on the Secret network. Anyone can send any Secret network token here and set a viewing key for that token, for this smart contract address. It has no admin functionality so it is completely decentralized.

                        %h6 Why it was created
                        %p We wanted to send some BUTT to a burn address and realised that there wasn't anywhere to send it to, and even if we did, nobody could see it.

                        %h6 How to use
                        %p
                          1. Send tokens to contract.
                          %br
                          2. Set viewing key for token if required.
                          %br
                          3. Query token.

                        %h6 References
                        %p
                          1.
                          = link_to 'github - mount-doom', 'https://github.com/btn-group/mount-doom', target: '_blank', rel: 'noopener'
                          %br
                          2.
                          = link_to 'github - btn.group', 'https://github.com/btn-group/btn.group', target: '_blank', rel: 'noopener'
                  %hr
                  %form{ name: 'secretNetworkDexAggregatorForm' }
                    .card.border.p-3{ style: 'background-color: rgb(247, 248, 250);' }
                      .form-group.mb-0
                        = render 'secret_network/balance', selector_prefix: 'from'
                        .row.gutter-10px
                          .col-7.col-sm-8
                            %input.form-control#from-amount-input{ name: 'fromAmount', placeholder: '0.0', type: 'number', min: '0', step: 'any' }
                            #from-usd-price
                          .col-5.col-sm-4
                            = select_tag 'from', options_from_collection_for_select(@cryptocurrencies, 'id', 'symbol', @default_from_token_id), class: 'form-control'
                    .text-center
                      = link_to '#' do
                        %em.fas.fa-arrow-down#flip-token
                    .card.border.mb-2.p-3{ style: 'background-color: rgb(247, 248, 250);' }
                      %span{ 'aria-controls' => 'configCollapse', 'aria-expanded' => 'true', 'data-toggle' => 'collapse', :href => '#configCollapse', style: 'position: absolute; top: 11px; right: 16px;' }
                        %em.fas.fa-cog{ style: 'cursor: pointer;' }
                      .form-group.mb-0
                        = render 'secret_network/balance', selector_prefix: 'to'
                        .row.gutter-10px
                          .col-7.col-sm-8
                            %input.form-control#to-amount-input{ name: 'estimateAmount', placeholder: '0.0', type: 'number', min: '0', disabled: true, step: 'any' }
                            #to-usd-price
                          .col-5.col-sm-4
                            = select_tag 'to', options_from_collection_for_select(@cryptocurrencies, 'id', 'symbol', @default_to_token_id), class: 'form-control'
                      .collapse#configCollapse
                        .form-group.mb-0.mt-2#slippage-container
                          %label Minimum acceptable amount
                          .row.gutter-10px
                            .col-7.col-sm-8
                              %input.form-control{ name: 'minAmount', placeholder: '0.0', type: 'number', min: '0', step: 'any', disabled: true }
                              #min-acceptable-amount-usd-price
                            .col-5.col-sm-4
                              .input-group
                                %input.form-control#slippage-tolerance{ name: 'slippageTolerance', value: 0.5, type: 'number', min: '0', step: '0.1', max: '100' }
                                .input-group-append
                                  %span.input-group-text %
                    .d-none#status-container
                      %span.loading
                        %em.spinner-grow.spinner-grow-sm{ 'aria-hidden' => 'true', :role => 'status' }
                      %b Status:
                      %i#status
                    %button.btn.btn-grad-alt.w-100.mt-2#submit-button
                      .d-none.loading
                        %em.spinner-grow.spinner-grow-sm{ 'aria-hidden' => 'true', :role => 'status' }
                        %em Loading...
                      .ready
                        Swap
              .d-none#results
                .card
                  .card-body
                    %h5 Results
                    %table.table.table-striped
                      %thead
                        %tr
                          %th Protocol
                          %th Return amount
                          %th Gas ($)
                          %th Net ($)
                      %tbody
                        %tr#btn-best-result
                          %td btn.group
                          %td -
                          %td -
                          %td -
                        %tr#secret-swap-best-result
                          %td Secret Swap
                          %td -
                          %td -
                          %td -
                        %tr#sienna-best-result
                          %td Sienna
                          %td -
                          %td -
                          %td -
              #swap-paths
  .nk-ovm.shape-q
